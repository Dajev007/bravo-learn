# PWA Install Prompt Guide

## ‚úÖ What's Been Implemented

You now have a **beautiful toast notification** that prompts users to install the BravoLearn app!

### Features

‚ú® **Smart Detection**: Automatically detects when the app can be installed
üé® **Beautiful UI**: Gradient toast with smooth slide-up animation
‚è∞ **Smart Dismissal**: Remembers if user dismissed it (for 7 days)
üì± **Mobile Ready**: Works on iOS, Android, and desktop browsers
üîî **Non-Intrusive**: Easy to dismiss with "Not Now" or X button

## How It Works

### The Toast Appears When:
1. User visits the site in a supported browser
2. The browser supports PWA installation (`beforeinstallprompt` event)
3. User hasn't dismissed it in the last 7 days
4. App is not already installed

### User Actions:
- **"Install App"** - Triggers browser's native install prompt
- **"Not Now"** - Dismisses for 7 days (stored in localStorage)
- **X button** - Same as "Not Now"

## Testing the Install Prompt

### On Desktop (Chrome/Edge)

1. Open http://localhost:5173 in Chrome or Edge
2. The install toast should appear at the bottom
3. Click "Install App" to see the browser's install dialog
4. Or dismiss it and it won't show again for 7 days

**Note**: In development mode, the prompt may not always appear. For full testing:
```bash
npm run build
npm run preview
```

### On Mobile (Chrome/Safari)

#### Android (Chrome):
1. Visit the site on Chrome mobile
2. Toast appears at the bottom
3. Tap "Install App" to add to home screen
4. App will work like a native app!

#### iOS (Safari):
- iOS doesn't support the `beforeinstallprompt` event
- Users can manually add to home screen:
  1. Tap the Share button
  2. Tap "Add to Home Screen"
- Consider adding a custom iOS-specific prompt

### Testing Install States

**Clear Install Dismissal:**
```javascript
// In browser console
localStorage.removeItem('pwa-install-dismissed')
// Refresh page to see prompt again
```

**Simulate Installed App:**
- After installing, the prompt won't show
- Detected via: `window.matchMedia('(display-mode: standalone)').matches`

## Customization Options

### Change Dismissal Duration

Edit `src/components/layout/InstallPWAPrompt.jsx`:
```javascript
// Currently 7 days (7 * 24 * 60 * 60 * 1000)
const dismissUntil = new Date().getTime() + (7 * 24 * 60 * 60 * 1000)

// Change to 30 days:
const dismissUntil = new Date().getTime() + (30 * 24 * 60 * 60 * 1000)
```

### Change Colors

The toast uses your theme colors from `tailwind.config.js`:
- Primary: `#22c55e` (green)
- Secondary: `#3b82f6` (blue)

### Change Position

Currently bottom-fixed. To change position, edit the component:
```jsx
// Top instead of bottom:
<div className="fixed top-0 left-0 right-0 z-50">
```

## Browser Support

| Browser | Support | Notes |
|---------|---------|-------|
| Chrome (Desktop) | ‚úÖ Full | Best support |
| Chrome (Android) | ‚úÖ Full | Native-like experience |
| Edge | ‚úÖ Full | Chromium-based |
| Firefox | ‚ö†Ô∏è Partial | No `beforeinstallprompt` |
| Safari (iOS) | ‚ùå None | Manual install only |
| Safari (macOS) | ‚ö†Ô∏è Limited | Big Sur+ only |

## Files Modified

- `src/components/layout/InstallPWAPrompt.jsx` - Main component
- `src/App.jsx` - Added component to router
- `src/index.css` - Added slide-up animation
- `index.html` - Added PWA meta tags
- `public/` - Generated PWA icons

## Production Deployment

When deploying to production:

1. Icons are already generated ‚úÖ
2. PWA manifest is auto-generated by Vite ‚úÖ
3. Service worker is auto-generated ‚úÖ
4. HTTPS required (most hosts provide this) ‚úÖ

The prompt will work better in production than in development!

## Analytics (Optional)

Track install events by adding:

```javascript
// In InstallPWAPrompt.jsx
const { outcome } = await deferredPrompt.userChoice

if (outcome === 'accepted') {
  // Track with your analytics
  gtag('event', 'pwa_install', { method: 'prompt' })
}
```

## Troubleshooting

**Prompt doesn't appear:**
- Check browser console for errors
- Verify you're on HTTP/HTTPS (not file://)
- Clear localStorage: `localStorage.clear()`
- Try in Chrome/Edge first (best support)

**Icons not showing:**
- Check `public/` folder has all icons
- Verify paths in `vite.config.js` manifest
- Hard refresh (Cmd+Shift+R or Ctrl+Shift+R)

**Already installed:**
- Uninstall the app from your device
- Clear browser data
- Try again

## What Users See

### Desktop:
![Toast notification at bottom with gradient background, app icon, "Install BravoLearn" title, description text, and two buttons]

### Mobile:
![Same toast, optimized for mobile width, easy to tap buttons]

### After Install:
- App icon on home screen/app drawer
- Full-screen experience (no browser UI)
- Offline support
- Fast loading
- Native-like feel

Enjoy your PWA! üöÄ
